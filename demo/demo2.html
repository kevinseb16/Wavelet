<!DOCTYPE html>
<html lang="en">
<head>
    <title>Wavelet | Demo 2</title>
    <link rel="stylesheet" href="site.css">
    <script type="text/javascript" src="./libgif/libgif.js"></script>
    <script type="text/javascript" src="./libgif/rubbable.js"></script>
    <script src="site.js"></script>
</head>
<body>
        <center>
                <h1>Demo #2</h1>
                <img id="example1" src="fan.gif"  rel:auto_play="0" width="467" height="275" />
                <br>
                <script type="text/javascript">
                    var sup1 = new SuperGif({ gif: document.getElementById('example1') } );
                    var power = 0;
                    var speed = 100;
                    sup1.load();
                    function sleep(ms) {
                        return new Promise(resolve => setTimeout(resolve, ms));
                    }
                    document.onkeydown = async function(event) {
                        switch (event.keyCode) {
                            case 16:
                                if (power == 0) { power = 1;
                                    while (power == 1) {sup1.move_relative(1); await sleep(speed);}
                                } break;   
                                //sup1.play(); break;
                            case 17:
                                sup1.pause(); await sleep(10);
                                if (power == 1) {   power = 0;
                                var slow = speed;
                                while(slow < 220) {sup1.move_relative(1); await sleep(slow); slow+=10;}
                                } break;
                            case 38: 
                                if (speed > 0) speed -= 20; break;
                            case 40:
                                if (speed < 100) speed += 20; break;
                            case 37: 
                                window.location.href = "demo1.html"; break;
                            case 39:
                                window.location.href = "demo1.html"; break;
                        }
                    };
                </script>
                <br><br>
        </center>
    
</body>
</html>
